\hypertarget{classJsonFile}{}\doxysection{Json\+File Class Reference}
\label{classJsonFile}\index{JsonFile@{JsonFile}}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{classJsonFile_a15a3c8716d279d55bb45ba0c79130fae}{load}} (const std\+::string \&)
\item 
\mbox{\Hypertarget{classJsonFile_aa75629f3d426f8433c0fd88a0407a890}\label{classJsonFile_aa75629f3d426f8433c0fd88a0407a890}} 
void \mbox{\hyperlink{classJsonFile_aa75629f3d426f8433c0fd88a0407a890}{attach\+Object\+From\+String}} (const std\+::string \&, const std\+::string \&, const std\+::string \&)
\begin{DoxyCompactList}\small\item\em parses the string into an object and adds it to a selected element using a specified key \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classJsonFile_afba66b5d957a85793802f920f260a037}\label{classJsonFile_afba66b5d957a85793802f920f260a037}} 
void \mbox{\hyperlink{classJsonFile_afba66b5d957a85793802f920f260a037}{remove\+Element}} (const std\+::string \&, const bool \&)
\begin{DoxyCompactList}\small\item\em removes a subtree. can preserve the dynamic memory if the subtree is meing moved, otherwise it is deleted \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classJsonFile_a15a4f5ca5582af9fe0d33a9ed2072b1d}{move\+Element}} (const std\+::string \&, const std\+::string \&, const std\+::string \&)
\begin{DoxyCompactList}\small\item\em moves the subtree of an element to another subtree. can be added with a (in case of the ui) user specified name \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classJsonFile_a75dff485e096d612a9cc9203946dff5c}{sort\+Array}} (const std\+::string \&)
\begin{DoxyCompactList}\small\item\em sorts a specified single type array of primitives \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classJsonFile_a93500dbc0768c4ee7e44a438b99b74a8}{get\+All\+By\+Key}} (const std\+::string \&, const std\+::string \&) const
\begin{DoxyCompactList}\small\item\em saves/prints all elenments with a certain name \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classJsonFile_a111c65b56ef720d64099e616680fbfae}{get\+Nth\+By\+Key}} (const std\+::string \&, const int \&, const std\+::string \&) const
\begin{DoxyCompactList}\small\item\em saves/prints one element of a given name \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classJsonFile_a56540c5a755e009dd76b454d170a85e8}{change\+Element}} (const std\+::string \&, const std\+::string \&)
\begin{DoxyCompactList}\small\item\em replaces the given element with what is parsed from the string \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classJsonFile_aac00cb4122757626c1d919274bed355f}{create\+From\+Index}} (const std\+::string \&)
\begin{DoxyCompactList}\small\item\em bonus feature. generates composites based off a key; \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classJsonFile_ad37c5d89efc855aeb3994877a2754066}\label{classJsonFile_ad37c5d89efc855aeb3994877a2754066}} 
void \mbox{\hyperlink{classJsonFile_ad37c5d89efc855aeb3994877a2754066}{print}} (const std\+::string \&, std\+::ostream \&, const bool \&) const
\begin{DoxyCompactList}\small\item\em print to file \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classJsonFile_a881e360ff576dcacd1287b55ae37ff6d}\label{classJsonFile_a881e360ff576dcacd1287b55ae37ff6d}} 
void \mbox{\hyperlink{classJsonFile_a881e360ff576dcacd1287b55ae37ff6d}{print}} (const std\+::string \&, const bool \&) const
\begin{DoxyCompactList}\small\item\em print to console \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classJsonFile_ab91395964ab5144fc904b18932e57f3f}\label{classJsonFile_ab91395964ab5144fc904b18932e57f3f}} 
void \mbox{\hyperlink{classJsonFile_ab91395964ab5144fc904b18932e57f3f}{print}} (const std\+::string \&, std\+::string \&, const bool \&) const
\begin{DoxyCompactList}\small\item\em print to string. used for tests \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line 6 of file Json\+File.\+hpp.



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classJsonFile_a56540c5a755e009dd76b454d170a85e8}\label{classJsonFile_a56540c5a755e009dd76b454d170a85e8}} 
\index{JsonFile@{JsonFile}!changeElement@{changeElement}}
\index{changeElement@{changeElement}!JsonFile@{JsonFile}}
\doxysubsubsection{\texorpdfstring{changeElement()}{changeElement()}}
{\footnotesize\ttfamily void Json\+File\+::change\+Element (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{dest,  }\item[{const std\+::string \&}]{src }\end{DoxyParamCaption})}



replaces the given element with what is parsed from the string 

the old element is removed and the new one added

Definition at line 358 of file Json\+File.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{358                                                                         \{}
\DoxyCodeLine{359     \textcolor{keywordflow}{if} (!stringIsBalanced(src)) \{}
\DoxyCodeLine{360         \textcolor{keywordflow}{throw} std::invalid\_argument(\textcolor{stringliteral}{"{}unbalanced source\(\backslash\)n"{}});}
\DoxyCodeLine{361     \}}
\DoxyCodeLine{362     \textcolor{keywordflow}{if} (!get(dest)) \{}
\DoxyCodeLine{363         \textcolor{keywordflow}{throw} std::invalid\_argument(\textcolor{stringliteral}{"{}no such element\(\backslash\)n"{}});}
\DoxyCodeLine{364     \}}
\DoxyCodeLine{365 }
\DoxyCodeLine{366     \mbox{\hyperlink{classObject}{Object}}* toAdd;}
\DoxyCodeLine{367     std::stringstream sourceStream(src);}
\DoxyCodeLine{368     toAdd = parse(sourceStream);}
\DoxyCodeLine{369     }
\DoxyCodeLine{370     \textcolor{keywordflow}{if} (!toAdd) \{}
\DoxyCodeLine{371         \textcolor{keywordflow}{throw} std::invalid\_argument(\textcolor{stringliteral}{"{}invalid json input\(\backslash\)n"{}});}
\DoxyCodeLine{372     \}}
\DoxyCodeLine{373 }
\DoxyCodeLine{374     \textcolor{keywordflow}{if} (dest.empty()) \{}
\DoxyCodeLine{375         root-\/>destroy();}
\DoxyCodeLine{376         \textcolor{keyword}{delete} root;}
\DoxyCodeLine{377         root = toAdd;}
\DoxyCodeLine{378         \textcolor{keywordflow}{return};}
\DoxyCodeLine{379     \}}
\DoxyCodeLine{380 }
\DoxyCodeLine{382     \mbox{\hyperlink{classJsonFile_afba66b5d957a85793802f920f260a037}{removeElement}}(dest, \textcolor{keyword}{true});}
\DoxyCodeLine{383     std::pair<std::string, std::string> beforeAndAfterDot = RegexUtil::splitAtLastDot(dest);}
\DoxyCodeLine{384     get(beforeAndAfterDot.first)-\/>addChild(beforeAndAfterDot.second, toAdd);}
\DoxyCodeLine{385 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classJsonFile_aac00cb4122757626c1d919274bed355f}\label{classJsonFile_aac00cb4122757626c1d919274bed355f}} 
\index{JsonFile@{JsonFile}!createFromIndex@{createFromIndex}}
\index{createFromIndex@{createFromIndex}!JsonFile@{JsonFile}}
\doxysubsubsection{\texorpdfstring{createFromIndex()}{createFromIndex()}}
{\footnotesize\ttfamily void Json\+File\+::create\+From\+Index (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{creation\+Key }\end{DoxyParamCaption})}



bonus feature. generates composites based off a key; 

does not need further validation, it is called with a validated creation\+Key

Definition at line 479 of file Json\+File.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{479                                                            \{}
\DoxyCodeLine{480     \textcolor{keywordflow}{if} (!RegexUtil::isValidCreationKey(creationKey)) \{}
\DoxyCodeLine{481         \textcolor{keywordflow}{throw} std::invalid\_argument(\textcolor{stringliteral}{"{}invalid creaton key\(\backslash\)n"{}});}
\DoxyCodeLine{482     \}}
\DoxyCodeLine{483 }
\DoxyCodeLine{484     \textcolor{keywordflow}{if} (!root) \{}
\DoxyCodeLine{485         root = \textcolor{keyword}{new} \mbox{\hyperlink{classComposite}{Composite}}();}
\DoxyCodeLine{486     \}}
\DoxyCodeLine{488     createFromIndex(root, creationKey, \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{489 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classJsonFile_a93500dbc0768c4ee7e44a438b99b74a8}\label{classJsonFile_a93500dbc0768c4ee7e44a438b99b74a8}} 
\index{JsonFile@{JsonFile}!getAllByKey@{getAllByKey}}
\index{getAllByKey@{getAllByKey}!JsonFile@{JsonFile}}
\doxysubsubsection{\texorpdfstring{getAllByKey()}{getAllByKey()}}
{\footnotesize\ttfamily void Json\+File\+::get\+All\+By\+Key (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{key,  }\item[{const std\+::string \&}]{destination }\end{DoxyParamCaption}) const}



saves/prints all elenments with a certain name 

creates a temporary json array to facilitate printing

defaults to printing in console if there is no filename given

Definition at line 444 of file Json\+File.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{444                                                                                   \{}
\DoxyCodeLine{445     std::vector<Object*> objs = findByKey(key);}
\DoxyCodeLine{446 }
\DoxyCodeLine{448     \mbox{\hyperlink{classObject}{Object}}* array = \textcolor{keyword}{new} \mbox{\hyperlink{classObjectArray}{ObjectArray}}();}
\DoxyCodeLine{449     \textcolor{keywordflow}{for} (\mbox{\hyperlink{classObject}{Object}}* obj : objs) \{}
\DoxyCodeLine{450         array-\/>addChild(\textcolor{stringliteral}{"{}"{}}, obj);}
\DoxyCodeLine{451     \}}
\DoxyCodeLine{452 }
\DoxyCodeLine{454     std::ofstream out(destination);}
\DoxyCodeLine{455     \textcolor{keywordflow}{if} (destination.empty()) \{}
\DoxyCodeLine{456         print(array, std::cout, \textcolor{keyword}{true});}
\DoxyCodeLine{457     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{458         print(array, out, \textcolor{keyword}{true});}
\DoxyCodeLine{459     \}}
\DoxyCodeLine{460 }
\DoxyCodeLine{461     \textcolor{keyword}{delete} array;}
\DoxyCodeLine{462 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classJsonFile_a111c65b56ef720d64099e616680fbfae}\label{classJsonFile_a111c65b56ef720d64099e616680fbfae}} 
\index{JsonFile@{JsonFile}!getNthByKey@{getNthByKey}}
\index{getNthByKey@{getNthByKey}!JsonFile@{JsonFile}}
\doxysubsubsection{\texorpdfstring{getNthByKey()}{getNthByKey()}}
{\footnotesize\ttfamily void Json\+File\+::get\+Nth\+By\+Key (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{key,  }\item[{const int \&}]{index,  }\item[{const std\+::string \&}]{destination }\end{DoxyParamCaption}) const}



saves/prints one element of a given name 

defaults to printing in console

Definition at line 464 of file Json\+File.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{464                                                                                                     \{}
\DoxyCodeLine{465     std::vector<Object*> objs = findByKey(key);}
\DoxyCodeLine{466     \textcolor{keywordflow}{if} (index >= 0 \&\& index < objs.size()) \{}
\DoxyCodeLine{468         \textcolor{keywordflow}{if} (destination.empty()) \{}
\DoxyCodeLine{469             print(objs[index], std::cout, \textcolor{keyword}{true});}
\DoxyCodeLine{470         \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{471             std::ofstream out(destination);}
\DoxyCodeLine{472             print(objs[index], out, \textcolor{keyword}{true});}
\DoxyCodeLine{473         \}}
\DoxyCodeLine{474     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{475         \textcolor{keywordflow}{throw} \textcolor{keyword}{new} std::out\_of\_range(\textcolor{stringliteral}{"{}invalid index\(\backslash\)n"{}});}
\DoxyCodeLine{476     \}}
\DoxyCodeLine{477 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classJsonFile_a15a3c8716d279d55bb45ba0c79130fae}\label{classJsonFile_a15a3c8716d279d55bb45ba0c79130fae}} 
\index{JsonFile@{JsonFile}!load@{load}}
\index{load@{load}!JsonFile@{JsonFile}}
\doxysubsubsection{\texorpdfstring{load()}{load()}}
{\footnotesize\ttfamily void Json\+File\+::load (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{file\+Path }\end{DoxyParamCaption})}

guarantees the existance and balance of file. the latter significantly simplifies parsing

overrides the previously loaded file

Definition at line 128 of file Json\+File.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{128                                              \{}
\DoxyCodeLine{129     std::ifstream in(filePath);}
\DoxyCodeLine{131     \textcolor{keywordflow}{if} (!in || !in.good()) \{}
\DoxyCodeLine{132         \textcolor{keywordflow}{throw} std::invalid\_argument(\textcolor{stringliteral}{"{}bad file\(\backslash\)n"{}});}
\DoxyCodeLine{133     \}}
\DoxyCodeLine{134     \textcolor{keywordflow}{if} (!(fileIsBalanced(filePath))) \{}
\DoxyCodeLine{135         \textcolor{keywordflow}{throw} std::invalid\_argument(\textcolor{stringliteral}{"{}unbalanced file\(\backslash\)n"{}});}
\DoxyCodeLine{136     \}}
\DoxyCodeLine{137     \mbox{\hyperlink{classObject}{Object}}* temp = parse(in);}
\DoxyCodeLine{138     \textcolor{keywordflow}{if} (temp) \{}
\DoxyCodeLine{140         \textcolor{keywordflow}{if} (root) \{}
\DoxyCodeLine{141             root-\/>destroy();}
\DoxyCodeLine{142             \textcolor{keyword}{delete} root;}
\DoxyCodeLine{143         \}}
\DoxyCodeLine{144         root = temp;}
\DoxyCodeLine{145     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{146         \textcolor{keywordflow}{throw} std::invalid\_argument(\textcolor{stringliteral}{"{}file does not match json file\(\backslash\)n"{}});}
\DoxyCodeLine{147     \}}
\DoxyCodeLine{148 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classJsonFile_a15a4f5ca5582af9fe0d33a9ed2072b1d}\label{classJsonFile_a15a4f5ca5582af9fe0d33a9ed2072b1d}} 
\index{JsonFile@{JsonFile}!moveElement@{moveElement}}
\index{moveElement@{moveElement}!JsonFile@{JsonFile}}
\doxysubsubsection{\texorpdfstring{moveElement()}{moveElement()}}
{\footnotesize\ttfamily void Json\+File\+::move\+Element (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{src,  }\item[{const std\+::string \&}]{dest,  }\item[{const std\+::string \&}]{name }\end{DoxyParamCaption})}



moves the subtree of an element to another subtree. can be added with a (in case of the ui) user specified name 

does not delete the dynamic memory

Definition at line 402 of file Json\+File.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{402                                                                                              \{}
\DoxyCodeLine{403     \textcolor{keywordflow}{if} (src.empty() || src == dest.substr(0, src.length())) \{}
\DoxyCodeLine{404         \textcolor{keywordflow}{throw} std::invalid\_argument(\textcolor{stringliteral}{"{}invalid source location. source cannot be same or a subelement of destination \(\backslash\)n"{}});}
\DoxyCodeLine{405     \}}
\DoxyCodeLine{406 }
\DoxyCodeLine{407     \mbox{\hyperlink{classObject}{Object}}* destination = get(dest);}
\DoxyCodeLine{408     \mbox{\hyperlink{classObject}{Object}}* source = get(src); }
\DoxyCodeLine{409 }
\DoxyCodeLine{410     \textcolor{keywordflow}{if} (!destination || !source) \{}
\DoxyCodeLine{411         \textcolor{keywordflow}{throw} std::invalid\_argument(\textcolor{stringliteral}{"{}no such element\(\backslash\)n"{}});}
\DoxyCodeLine{412     \}}
\DoxyCodeLine{413 }
\DoxyCodeLine{414     \textcolor{keywordflow}{if} (destination-\/>getType() == PRIMITIVE) \{}
\DoxyCodeLine{415         upliftPrimitive(destination, dest);}
\DoxyCodeLine{416     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (destination-\/>getType() == COMPOSITE \&\& (!RegexUtil::isStringPrimitive(name) || destination-\/>\mbox{\hyperlink{classObject_a0058eaaeb047455441af2933994687c4}{get}}(name))) \{}
\DoxyCodeLine{417         \textcolor{keywordflow}{throw} std::invalid\_argument(\textcolor{stringliteral}{"{}invalid name or name present at destination\(\backslash\)n"{}});}
\DoxyCodeLine{418     \}}
\DoxyCodeLine{419 }
\DoxyCodeLine{421     \mbox{\hyperlink{classJsonFile_afba66b5d957a85793802f920f260a037}{removeElement}}(src, \textcolor{keyword}{false});}
\DoxyCodeLine{422     destination-\/>addChild(name, source);}
\DoxyCodeLine{423 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classJsonFile_a75dff485e096d612a9cc9203946dff5c}\label{classJsonFile_a75dff485e096d612a9cc9203946dff5c}} 
\index{JsonFile@{JsonFile}!sortArray@{sortArray}}
\index{sortArray@{sortArray}!JsonFile@{JsonFile}}
\doxysubsubsection{\texorpdfstring{sortArray()}{sortArray()}}
{\footnotesize\ttfamily void Json\+File\+::sort\+Array (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{str }\end{DoxyParamCaption})}



sorts a specified single type array of primitives 

if the object is unsortable it simply does nothing

Definition at line 425 of file Json\+File.\+cpp.


\begin{DoxyCode}{0}
\DoxyCodeLine{425                                              \{}
\DoxyCodeLine{426     \mbox{\hyperlink{classObject}{Object}}* obj = get(str);}
\DoxyCodeLine{428     \textcolor{keywordflow}{if} (obj) \{}
\DoxyCodeLine{429         obj-\/>\mbox{\hyperlink{classObject_a5dedcfa771508242f1e075eef3346e42}{sort}}();}
\DoxyCodeLine{430     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{431         \textcolor{keywordflow}{throw} std::invalid\_argument(\textcolor{stringliteral}{"{}no such element"{}});}
\DoxyCodeLine{432     \}}
\DoxyCodeLine{433 \}}

\end{DoxyCode}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
JSON\+\_\+\+File/Json\+File.\+hpp\item 
JSON\+\_\+\+File/Json\+File.\+cpp\end{DoxyCompactItemize}
